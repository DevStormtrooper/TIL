# 스코프

> **스코프(유효범위)는** 자바스크립트를 포함한 모든 프로그래밍 언어의 기본적이며 **중요한 개념이다.**
> 자바스크립트의 스코프는 다른 언어의 스코프와 구별되는 특징이 있어 주의가 필요합니다.
> var 키워드로 선언된 변수와 let,const 키워드로 선언한 변수의 스코프도 다르게 동작합니다.
> var 함수 레벨 스코프 const,let 블록 레벨 스코프

## 스코프는 변수와 함수와 깊은 관련이 있습니다.

함수의 매개변수는 함수 몸체 내부에서만 참조할 수 있고, 함수 외부에서는 참조할 수 없습니다.
즉, 스코프가 함수 내부에 제한 되어있는 것입니다.

```js
const add = (x, y) => {
  console.log(x, y); // 1 2
  return x + y;
};

add(1, 2);

console.log(x, y); // ReferenceError: x is not defined
```

변수는 자신이 선언된 위치에 의해 자신이 유효한 범위, 즉 다른 코드가 변수 자신을 참조할 수 있는 범위가 결정됩니다.

**모든식별자는 자신이 선언된 위치에 의해 다른 코드가 식별자 자신을 참조할 수 있는 유효범위가 결정됩니다. 이 유효 범위를 스코프라 합니다.**

프로그래밍 언어에서는 스코프를 통해 식별자인 변수 이름의 충돌을 방지하여 같은 이름의 변수를 사용할 수 있게 합니다. 스코프 내에서 식별자는 유일해야 하지만 다른 스코프에는 같은 이름의 식별자를 사용할 수 있습니다.

**스코프는 네임스페이스**

> 네임스페이스
> 이름공간 또는 네임스페이스(영어: namespace)는 개체를 구분할 수 있는 범위를 나타내는 말로 일반적으로 하나의 이름 공간에서는 하나의 이름이 단 하나의 개체만을 가리키게 된다.

## 스코프의 종류

| 구분 | 설명                  |   스코프    |   변수    |
| :--: | :-------------------- | :---------: | :-------: |
| 전역 | 코드의 가장 바깥 영역 | 전역 스코프 | 전역 변수 |
| 지역 | 함수 몸체 내부        | 지역 스코프 | 지역 변수 |

### 전역 스코프

전역은 **가장 바깥 영역**입니다. 전역은 전역 스코프를 만듭니다.

전역에 변수를 선언하면 전역 스코프를 갖는 전역 변수가 됩니다.

**전역 변수는 어디서든지 참조할 수 있습니다.**

### 지역 스코프

지역은 **함수 몸체 내부**입니다. 지역은 지역 스코프를 만듭니다.

지역에 변수를 선언하면 지역 스코프를 갖는 지역 변수가 됩니다.

**지역 변수는 자신의 지역 스코프와 하위 지역 스코프에서 참조할 수 있습니다.**

## 스코프 체인

함수는 전역과 지역에서 정의할 수 있습니다.

지역에서 함수가 정의된 것을 함수의 중첩이라 합니다.

지역에서 정의한 함수를 중첩함수, 중첩 함수를 포함하는 함수를 외부 함수라고 합니다.

함수는 중첩될 수 있으므로 함수의 지역 스코프도 중첩될 수 있습니다.

**스코프가 함수의 중첩에 의해 계층적 구조를 갖습니다.**

외부 함수의 지역 스코프를 상위 스코프라 합니다.

```
전역 스코프 > 외부 함수 지역 스코프> 중첩 함수 지역 스코프
```

**스코프가 계층적으로 연결된 것이 스코프 체인입니다.**

**변수를 참조할 때 자바스크립트 엔진은 소코프 체인을 통해 변수를 참조하는 코드의 스코프에서 시작하여 상위 스코프 방향으로 선언된 변수를 검색합니다.**

## Reference

- 모던 자바스크립트 Deep Dive - 이웅모
